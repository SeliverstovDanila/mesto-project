(()=>{"use strict";var e,t,o,r=document.querySelector(".profile__editbutton"),n=document.querySelector("#modal-profile"),c=n.querySelector(".popup__form-container"),l=n.querySelector("#profile__name"),u=n.querySelector("#profile__info"),i=n.querySelector(".popup__button-close_profile"),a=(document.querySelector(".profile__info"),document.querySelector(".profile__title")),p=document.querySelector(".profile__subtitle"),_=document.querySelector(".element"),d=document.querySelector("#elements").content,s=document.querySelector("#modal-card"),m=document.querySelector(".profile__addbutton"),f=s.querySelector("#card__addname"),y=s.querySelector("#add-form"),v=s.querySelector("#card__url"),q=(s.querySelector(".popup__button-sumbit_card"),s.querySelector(".popup__button-close_addform")),S=document.querySelector("#photo-zoom"),L=S.querySelector(".popup__button-close_zoomform"),E=S.querySelector(".popup__image"),k=S.querySelector(".popup__image-name");function g(e){e.classList.add("popup_open")}function x(e){e.classList.remove("popup_open")}function b(e){var t=d.querySelector(".element__cards").cloneNode(!0);return t.querySelector(".element__photo").src=e.link,t.querySelector(".element__photo").alt=e.alt,t.querySelector(".element__title").textContent=e.name,t.querySelector(".element__like").addEventListener("click",A),t.querySelector(".element__delite").addEventListener("click",w),t.querySelector(".element__photo").addEventListener("click",z),t}function C(){x(n),c.reset()}function h(){x(s),y.reset()}function w(e){e.target.closest(".element__cards").remove()}function A(e){e.target.classList.toggle("element__like_active")}function z(e){var t=e.target.closest(".element__cards"),o=t.querySelector(".element__photo"),r=t.querySelector(".element__title");g(S),E.src=o.src,E.alt=o.alt,k.textContent=r.textContent}function D(){x(S)}n.querySelector(".popup__line"),n.querySelector(".popup__line_text-error"),Array.from(document.querySelectorAll(".popup__form-container")).forEach((function(e){!function(e){Array.from(e.querySelectorAll(".popup__line")).forEach((function(t){t.addEventListener("input",(function(){!function(e,t){t.validity.valid?function(e,t){var o=e.querySelector(".popup__line_text-error");t.classList.remove("popup__line_type-error"),o.classList.remove("popup__line_text-error_active"),o.textContent=""}(e,t):function(e,t,o){var r=e.querySelector(".popup__line_text-error");t.classList.add("popup__line_type-error"),r.textContent=o,r.classList.add("popup__line_text-error_active")}(e,t,t.validationMessage)}(e,t)}))}))}(e)})),e=initialCards,t=document.createDocumentFragment(),e.forEach((function(e){var o=b(e);t.append(o)})),o=t,_.append(o),r.addEventListener("click",(function(){g(n),l.value=a.textContent,u.value=p.textContent})),i.addEventListener("click",C),c.addEventListener("submit",(function(e){e.preventDefault(),a.textContent=l.value,p.textContent=u.value,C()})),m.addEventListener("click",(function(){g(s)})),q.addEventListener("click",h),y.addEventListener("submit",(function(e){e.preventDefault();var t=b({link:v.value,name:f.value,alt:f.value});_.prepend(t),h()})),L.addEventListener("click",D),n.addEventListener("mousedown",(function(e){e.currentTarget===e.target&&C()})),s.addEventListener("mousedown",(function(e){e.currentTarget===e.target&&h()})),S.addEventListener("mousedown",(function(e){e.currentTarget===e.target&&D()})),document.addEventListener("keydown",(function(e){var t=document.querySelector("#modal-profile.popup_open"),o=document.querySelector("#modal-card.popup_open"),r=document.querySelector("#photo-zoom.popup_open");"Escape"===e.key&&null!==t&&C(),"Escape"===e.key&&null!==o&&h(),"Escape"===e.key&&null!==r&&D()}))})();